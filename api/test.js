const express = require("express");
const cors = require('cors');
const axios = require('axios');
const search = require('./routes/search');
const app = express();
const port = process.env.PORT || 4000;

// Define your array of data
const dataArray = [
  {"shop1Product":{"_id":"64eb8362f68301054f5414e1","name":"Crème fraîche","brand":"DÉLICE","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194043001620-1_1.jpg","description":"Le pot de 15cl","size":"15cl","category":"","regular_price":"","product_price":"1,520 dt","product_url":"https://www.carrefour.tn/default/creme-fraiche-6194043001620.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc3f6009542503cdd06cd","name":"Crème fraîche","brand":"DELICE","imageSrc":"https://courses.monoprix.tn/saadi/155510-home_default/crème-fraiche.jpg","description":"15cl","size":"15cl","category":"crèmes-fraîches","regular_price":"","product_price":"1,720 DT","product_url":"https://courses.monoprix.tn/saadi/crèmes-fraîches/19577-crème-fraiche.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":83},{"shop1Product":{"_id":"64eb84ddf68301054f5415fb","name":"Crème fraîche semi épaisse","brand":"DÉLICE","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194043002078.jpg","description":"La bouteille de 22cl","size":"22cl","category":"","regular_price":"","product_price":"2,030 dt","product_url":"https://www.carrefour.tn/default/creme-fraiche-semi-epaisse-22cl-6194043002078.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc562009542503cdd07b9","name":"Crème fraîche semi épais","brand":"DELICE","imageSrc":"https://courses.monoprix.tn/saadi/129833-home_default/crème-fraiche-semi-épais.jpg","description":"22cl","size":"22cl","category":"crèmes-fraîches","regular_price":"","product_price":"2,300 DT","product_url":"https://courses.monoprix.tn/saadi/crèmes-fraîches/16054-crème-fraiche-semi-épais.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":96,"similarityScoreBrand":83},{"shop1Product":{"_id":"64eb7e01f68301054f540fb0","name":"Crème dessert noisette","brand":"NATILAIT","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/61944664.jpg","description":"Le pot de 100g","size":"100g","category":"","regular_price":"","product_price":"0,760 dt","product_url":"https://www.carrefour.tn/default/creme-dessert-noisette-100g-61944664.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc1ed009542503cdd0564","name":"Crème dessert","brand":"NATILAIT","imageSrc":"https://courses.monoprix.tn/saadi/155475-home_default/crème-dessert.jpg","description":"100g - noisette","size":"100g","category":"crèmes-dessert","regular_price":"","product_price":"0,910 DT","product_url":"https://courses.monoprix.tn/saadi/crèmes-dessert/19601-crème-dessert.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":74,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb83f1f68301054f541565","name":"Fromage fondu à tartiner","brand":"PRÉSIDENT","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191513501031-1_1.jpg","description":"La boite de 16 portions","size":"16 portions","category":"","regular_price":"","product_price":"5,790 dt","product_url":"https://www.carrefour.tn/default/fromage-fondu-a-tartiner-6191513501031.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebd579009542503cdd0f7e","name":"Fromage fondu","brand":"PRESIDENT","imageSrc":"https://courses.monoprix.tn/saadi/155734-home_default/fromage-fondu.jpg","description":"16 portions","size":"16 portions","category":"fromages-à-tartiner","regular_price":"","product_price":"6,830 DT","product_url":"https://courses.monoprix.tn/saadi/fromages-à-tartiner/19373-fromage-fondu.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":70,"similarityScoreBrand":89},
  {"shop1Product":{"_id":"64eb81bef68301054f54135e","name":"Boisson au jus tropical","brand":"LA FRUITIÈRE","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191402602023-1.jpg","description":"La bouteille de 250ml","size":"250ml","category":"","regular_price":"","product_price":"1,970 dt","product_url":"https://www.carrefour.tn/default/boisson-au-jus-tropical-250ml-6191402602023.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc8ea009542503cdd09d9","name":"Boisson au jus","brand":"LA FRUITIERE","imageSrc":"https://courses.monoprix.tn/saadi/143022-home_default/boisson-au-jus.jpg","description":"250ml - peche","size":"250ml","category":"pur-jus-de-fruits","regular_price":"","product_price":"3,490 DT","product_url":"https://courses.monoprix.tn/saadi/pur-jus-de-fruits/27597-boisson-au-jus.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":76,"similarityScoreBrand":92},{"shop1Product":{"_id":"64eb81bef68301054f54135e","name":"Boisson au jus tropical","brand":"LA FRUITIÈRE","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191402602023-1.jpg","description":"La bouteille de 250ml","size":"250ml","category":"","regular_price":"","product_price":"1,970 dt","product_url":"https://www.carrefour.tn/default/boisson-au-jus-tropical-250ml-6191402602023.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc8eb009542503cdd09db","name":"Boisson au jus","brand":"LA FRUITIERE","imageSrc":"https://courses.monoprix.tn/saadi/146223-home_default/boisson-au-jus.jpg","description":"250ml - ananas","size":"250ml","category":"pur-jus-de-fruits","regular_price":"","product_price":"3,490 DT","product_url":"https://courses.monoprix.tn/saadi/pur-jus-de-fruits/27594-boisson-au-jus.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":76,"similarityScoreBrand":92},{"shop1Product":{"_id":"64eb7c0bf68301054f540dc8","name":"Huile végétale de tournesol","brand":"SAFI","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191534603486.jpg","description":"La bouteille de 3.8L","size":"8L","category":"","regular_price":"","product_price":"19,390 dt","product_url":"https://www.carrefour.tn/default/huile-vegetale-de-tournesol-null-6191534603486.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebdaa7009542503cdd1304","name":"Huile de tournesol","brand":"SAFI","imageSrc":"https://courses.monoprix.tn/saadi/129808-home_default/huile.jpg","description":"1.8L","size":"8L","category":"huiles-végétales","regular_price":"10,920 DT","product_price":"9,750 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-végétales/16079-huile.html","promo":"Promotion","shop_name":"Monoprix"},"similarityScoreName":80,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb796df68301054f540b34","name":"Huile de tournesol","brand":"SAFI","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191534603189_2.png","description":"La bouteille de 1.8L","size":"8L","category":"","regular_price":"","product_price":"9,460 dt","product_url":"https://www.carrefour.tn/default/huile-de-tournesol-1.8l-6191534603189.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebdaa7009542503cdd1304","name":"Huile de tournesol","brand":"SAFI","imageSrc":"https://courses.monoprix.tn/saadi/129808-home_default/huile.jpg","description":"1.8L","size":"8L","category":"huiles-végétales","regular_price":"10,920 DT","product_price":"9,750 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-végétales/16079-huile.html","promo":"Promotion","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb7950f68301054f540b1f","name":"Sauce salade","brand":"REMIA","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/8/7/8710448595854_1.jpg","description":"La bouteille de 250ml","size":"250ml","category":"","regular_price":"","product_price":"8,690 dt","product_url":"https://www.carrefour.tn/default/sauce-salade-null-8710448595854.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebd8b5009542503cdd11a5","name":"Sauce Salade","brand":"REMIA","imageSrc":"https://courses.monoprix.tn/saadi/146160-home_default/sauce-salade.jpg","description":"250ml - Creamy","size":"250ml","category":"vinaigres-vinaigrettes-et-sauces-salades","regular_price":"","product_price":"8,990 DT","product_url":"https://courses.monoprix.tn/saadi/vinaigres-vinaigrettes-et-sauces-salades/23018-sauce-salade.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb87b7f68301054f54186d","name":"Huile de tournesol","brand":"OLINA","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191509430017-1.jpg","description":"Le bidon de 3L","size":"3L","category":"","regular_price":"","product_price":"12,040 dt","product_url":"https://www.carrefour.tn/default/huile-de-tournesol-6191509430017.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebec43009542503cdd17f9","name":"Huile de tournesol","brand":"OLINA","imageSrc":"https://courses.monoprix.tn/saadi/131824-home_default/huile-de-tournesol.jpg","description":"3L","size":"3L","category":"huiles-végétales","regular_price":"22,740 DT","product_price":"15,990 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-végétales/21601-huile-de-tournesol.html","promo":"Promotion","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb933bf68301054f541dc3","name":"Boisson au jus de mangue","brand":"STIL","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194001801064-1_1.jpg","description":"La bouteille de 1L","size":"1L","category":"","regular_price":"","product_price":"2,700 dt","product_url":"https://www.carrefour.tn/default/boisson-au-jus-de-mangue-1l-6194001801064.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc906009542503cdd09ec","name":"Boisson au jus","brand":"STIL","imageSrc":"https://courses.monoprix.tn/saadi/129122-home_default/boisson-au-jus.jpg","description":"1L - mangue","size":"1L","category":"pur-jus-de-fruits","regular_price":"","product_price":"3,400 DT","product_url":"https://courses.monoprix.tn/saadi/pur-jus-de-fruits/16799-boisson-au-jus.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":74,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb8c67f68301054f541b34","name":"Huile d'olive extra vierge","brand":"RUSPINA","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194061401297-1_1.jpg","description":"La boite de 250ml","size":"250ml","category":"","regular_price":"","product_price":"7,430 dt","product_url":"https://www.carrefour.tn/default/huile-dolive-extra-vierge-6194061401297.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebdad1009542503cdd132c","name":"Huile d'olive extra vierge","brand":"RUSPINA","imageSrc":"https://courses.monoprix.tn/saadi/132575-home_default/huile-d-olive-extra-vierge.jpg","description":"250ml","size":"250ml","category":"huiles-d-olive","regular_price":"","product_price":"11,000 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-d-olive/23015-huile-d-olive-extra-vierge.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb873df68301054f5417fc","name":"Huile de maïs","brand":"OLINA","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191509450008.jpg","description":"Le bidon de 5L","size":"5L","category":"","regular_price":"","product_price":"26,990 dt","product_url":"https://www.carrefour.tn/default/huile-de-mais-6191509450008.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebef39009542503cdd19a4","name":"Huile de maïs","brand":"OLINA","imageSrc":"https://courses.monoprix.tn/saadi/129415-home_default/huile.jpg","description":"5L","size":"5L","category":"huiles-végétales","regular_price":"","product_price":"38,900 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-végétales/16494-huile.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb8636f68301054f54171f","name":"Bonbons Créma","brand":"PAPILLON","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194002460048-1.jpg","description":"Le sachet de 150g","size":"150g","category":"","regular_price":"","product_price":"2,190 dt","product_url":"https://www.carrefour.tn/default/bonbons-crema-6194002460048.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc5c5009542503cdd0807","name":"Bonbons","brand":"PAPILLON","imageSrc":"https://courses.monoprix.tn/saadi/128452-home_default/bonbons.jpg","description":"150g - fruits","size":"150g","category":"bonbons","regular_price":"","product_price":"2,490 DT","product_url":"https://courses.monoprix.tn/saadi/bonbons/17469-bonbons.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":70,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb8636f68301054f54171f","name":"Bonbons Créma","brand":"PAPILLON","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194002460048-1.jpg","description":"Le sachet de 150g","size":"150g","category":"","regular_price":"","product_price":"2,190 dt","product_url":"https://www.carrefour.tn/default/bonbons-crema-6194002460048.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebc533009542503cdd0792","name":"Bonbons","brand":"PAPILLION","imageSrc":"https://courses.monoprix.tn/saadi/128449-home_default/bonbons.jpg","description":"150g - ananas","size":"150g","category":"bonbons","regular_price":"2,250 DT","product_price":"2,090 DT","product_url":"https://courses.monoprix.tn/saadi/bonbons/17472-bonbons.html","promo":"Promotion","shop_name":"Monoprix"},"similarityScoreName":70,"similarityScoreBrand":94},{"shop1Product":{"_id":"64eb8c5df68301054f541b2b","name":"Huile d'olive extra vierge","brand":"RUSPINA","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6194061400283-1.jpg","description":"Le coffret de 3 bouteilles de 250ml","size":"250ml","category":"","regular_price":"","product_price":"35,530 dt","product_url":"https://www.carrefour.tn/default/huile-dolive-extra-vierge-6194061400283.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebdad1009542503cdd132c","name":"Huile d'olive extra vierge","brand":"RUSPINA","imageSrc":"https://courses.monoprix.tn/saadi/132575-home_default/huile-d-olive-extra-vierge.jpg","description":"250ml","size":"250ml","category":"huiles-d-olive","regular_price":"","product_price":"11,000 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-d-olive/23015-huile-d-olive-extra-vierge.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb8c57f68301054f541b25","name":"Huile d'olive extra vierge","brand":"OLIVES ET OLIVIERS","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6191598701081-1.jpg","description":"La boite de 800ml","size":"800ml","category":"","regular_price":"","product_price":"14,400 dt","product_url":"https://www.carrefour.tn/default/huile-dolive-extra-vierge-6191598701081.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebee66009542503cdd18aa","name":"Huile d'olive extra vierge","brand":"OLIVES ET OLIVIERS","imageSrc":"https://courses.monoprix.tn/saadi/129726-home_default/huile-d-olive-extra-vierge.jpg","description":"800ml","size":"800ml","category":"huiles-d-olive","regular_price":"","product_price":"26,890 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-d-olive/16169-huile-d-olive-extra-vierge.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100},{"shop1Product":{"_id":"64eb871ef68301054f5417e0","name":"Huile de maïs","brand":"NEJMA","imageSrc":"https://media.carrefour.tn/catalog/product/cache/bbe61c5e1237d092bcb31b107702a416/6/1/6192021110197_-1.jpg","description":"La bouteille de 1L","size":"1L","category":"","regular_price":"","product_price":"7,450 dt","product_url":"https://www.carrefour.tn/default/huile-de-mais-6192021110197.html","promo":"","shop_name":"Carrefour"},"shop2Product":{"_id":"64ebd66f009542503cdd1014","name":"Huile de maïs","brand":"NEJMA","imageSrc":"https://courses.monoprix.tn/saadi/128909-home_default/huile-de-maïs.jpg","description":"1L","size":"1L","category":"huiles-végétales","regular_price":"","product_price":"7,445 DT","product_url":"https://courses.monoprix.tn/saadi/huiles-végétales/17012-huile-de-maïs.html","promo":"","shop_name":"Monoprix"},"similarityScoreName":100,"similarityScoreBrand":100}
];

// Define the URL of your API endpoint
const apiUrl = 'http://localhost:4000/'; // Replace with your actual API URL

// Middleware to enable CORS (Cross-Origin Resource Sharing)
app.use(cors());

// Define a GET route for /api
app.get('/api/test', (req, res) => {
  res.json(dataArray);
});


app.use('/api/search', search)

app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`);
});
